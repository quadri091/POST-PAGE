<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Blog</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Verdana, sans-serif;
        line-height: 1.6;
        background: #f9f9f9;
        position: relative;
        color: #333;
      }

      header {
        background: #222;
        color: #fff;
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 2;
      }

      header .logo {
        font-size: 1.5rem;
        font-weight: bold;
      }

      header nav ul {
        list-style: none;
        display: flex;
        gap: 1.5rem;
      }

      header nav a {
        color: #fff;
        text-decoration: none;
        transition: color 0.3s;
      }

      header nav a:hover {
        color: #ff9800;
      }

      .hero {
        text-align: center;
        padding: 3rem 1rem;
        background: linear-gradient(to right, #ff9800, #f44336);
        color: #fff;
      }

      .hero h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      main {
        width: 65%;
        float: left;
        padding: 2rem;
      }

      aside {
        width: 30%;
        float: right;
        padding: 2rem;
        background: #fff;
        border-left: 1px solid #ddd;
      }

      #preview-hold {
        background-color: rgba(0, 0, 0, 0.774);
        backdrop-filter: blur(5px);
        position: fixed;
        width: 100%;
        height: 100vh;
        top: 0;
        left: 0;
        display: none;
        align-items: center;
        z-index: 2;
        justify-content: center;
        input {
          color: #d32f2f;
          position: absolute;
          bottom: 10%;
          cursor: pointer;
        }
      }
      aside h3 {
        margin-bottom: 0.5rem;
      }

      aside ul {
        list-style: none;
      }

      aside ul li {
        margin: 0.5rem 0;
      }

      .post-form {
        margin: 2rem 0;
        background: #fff;
        padding: 1rem;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .post-form textarea {
        width: 100%;
        height: 100px;
        padding: 0.5rem;
        margin-bottom: 1rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        resize: vertical;
      }

      .post-form button {
        background: #f44336;
        color: #fff;
        border: none;
        padding: 0.7rem 1.2rem;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
      }

      .post-form button:hover {
        background: #d32f2f;
      }

      .post {
        background: #fff;
        margin-bottom: 2rem;
        padding: 1rem;
        display: flex;
        gap: 15px;
        align-items: center;
        position: relative;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .post h2 {
        margin-bottom: 0.5rem;
      }
      #postContent {
        border: 5px double #ff9800;
        outline: none;
      }
      .news {
        gap: 20px;
        display: flex;
      }
      footer {
        clear: both;
        text-align: center;
        padding: 1rem;
        background: #222;
        color: #fff;
        margin-top: 2rem;
      }
      #preview {
        height: 280px;
        display: flex;
        width: 280px;
        border-radius: 50%;
        border: 5px solid rgb(0, 94, 255);
      }
      #secPreview {
        height: 40px;
        display: none;
        width: 40px;
        border-radius: 50%;
        border: 2px solid rgb(0, 94, 255);
      }
      img {
        height: 50px;
        width: 50px;
        border-radius: 50%;
        border: 2px solid rgb(0, 94, 255);
      }

      input {
        background: linear-gradient(to right, #ff9800, #f44336);
        padding: 9px 20px;
        border-radius: 20px;
        width: 130px;
      }
      .one,
      .two {
        height: 35px;
        display: flex;
        border-radius: 50%;
        transition: all 0.5s ease;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        width: 35px;
        border: none;
        background-color: transparent;
      }
      .three {
        background: linear-gradient(to right, #ff9800, #f44336);
        padding: 0 15px;
        color: white;
        font-weight: bold;
        border: none;
        border-radius: 15px;
        cursor: pointer;
      }
      .four {
        background: linear-gradient(to right, #ff9800, #f44336);
        padding: 10px 20px;
        color: white;
        font-weight: bold;
        position: absolute;
        left: 8%;
        bottom: 10%;
        border: none;
        border-radius: 15px;
        cursor: pointer;
      }
      .five {
        background: linear-gradient(to right, #ff9800, #f44336);
        padding: 10px 20px;
        color: white;
        font-weight: bold;
        position: absolute;
        bottom: 10%;
        right: 8%;
        border: none;
        border-radius: 15px;
        cursor: pointer;
      }
      .flow {
        display: flex;
        gap: 15px;
        position: absolute;
        right: 5%;
        bottom: 15%;
      }
      #firstOne:hover,
      #secondOne:hover {
        background-color: lightgray;
      }

      .post-table {
        margin-top: 2rem;
        background: #fff;
        padding: 1rem;
        text-align: center;
        display: flex;
        flex-direction: column;
        gap: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .post-table table {
        width: 100%;
        border-collapse: collapse;
        border-radius: 10px;
        overflow: hidden;
      }

      .post-table th,
      .post-table td {
        border: 1px solid #ddd;
        padding: 0.7rem;
        text-align: center;
      }
      .design {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100px;
      }

      .post-table th {
        background: #f44336;
        color: #fff;
      }
      .round {
        border: 3px solid #f3f3f3;
        border-top: 3px solid #3498db;
        border-left: 3px solid #3498db;
        border-radius: 50%;
        width: 16px;
        height: 16px;
        animation: spin 1s linear infinite;
        display: flex;
        margin: auto;
      }
      .time {
        color: red;
        font-size: 13px;
        position: absolute;
        right: 5%;
        top: 13%;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      @media (max-width: 900px) {
        main {
          width: 100%;
          float: none;
          padding: 1.5rem;
        }

        aside {
          width: 100%;
          float: none;
          margin-top: 1.5rem;
          border-left: none;
        }

        header nav ul {
          gap: 1rem;
        }
      }
      @media (max-width: 768px) {
        header {
          padding: 1rem 1.5rem;
        }

        .hero h1 {
          font-size: 2rem;
        }

        .hero p {
          font-size: 14px;
        }

        li {
          font-size: 14px;
        }

        .post-table table {
          font-size: 14px;
        }
      }
      @media (max-width: 500px) {
        header .logo {
          font-size: 18px;
        }

        header nav ul {
          gap: 0.7rem;
        }

        li {
          font-size: 12px;
        }

        .display {
          font-size: 12px;
        }

        .flow {
          gap: 8px;
        }

        .post {
          padding: 0.8rem;
        }

        textarea {
          height: 80px;
        }
        #preview {
          width: 150px;
          height: 150px;
        }
        #preview-hold {
          input {
            bottom: 22%;
            right: calc(50% - 63px);
          }
        }
      }
      @media (max-width: 465px) {
        .design {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          max-width: 0px;
        }
        .post {
          flex-direction: column;
          align-items: flex-start;
        }

        .flow {
          position: static;
          margin-top: 10px;
        }
      }
      @media (max-width: 380px) {
        .hero h1 {
          font-size: 1.6rem;
        }

        .hero p {
          font-size: 12px;
        }
        input {
          margin-left: 10px;
        }
        .post-table table {
          font-size: 11px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">MyBlog</div>
      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#posts">Recent Post</a></li>
          <li><a href="#summary">Summary</a></li>
          <li><a href="#footer">Footer</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero">
      <h1>Welcome to My Blog</h1>
      <p>Sharing thoughts, stories, and ideas.</p>
    </section>

    <main>
      <div class="post-form">
        <h2>Create a Post</h2>
        <textarea
          id="postContent"
          placeholder="Write your post here..."
        ></textarea>
        <div class="news">
          <button onclick="choose(this)" id="listener">Add Picture</button>
          <img id="secPreview" src="" alt="" />
          <button onclick="addPost(this)">Post</button>
        </div>
      </div>

      <div id="preview-hold">
        <img
          id="preview"
          src="https://i.pinimg.com/736x/88/10/6c/88106c7a9d035e3d664089b36c99c2d4.jpg"
          alt=""
        />
        <button onclick="cancel()" class="four">Cancel</button>
        <input value="Change" type="file" onchange="change(event)" />
        <button onclick="add(this)" class="five">Add</button>
      </div>

      <div id="posts"></div>

      <div id="summary" class="post-table">
        <h2>Post Summary</h2>
        <table>
          <thead>
            <tr>
              <th>S/N</th>
              <th>Post Text</th>
              <th>Image</th>
              <th>Likes</th>
              <th>Unlikes</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </main>

    <aside>
      <h3>About Me</h3>
      <p>
        Hi, I'm Quadri. I love writing about tech, design, and life lessons.
      </p>

      <h3>Categories</h3>
      <ul>
        <li>Technology</li>
        <li>Design</li>
        <li>Lifestyle</li>
        <li>Travel</li>
      </ul>
    </aside>

    <footer id="footer">
      <p>&copy; 2025 MyBlog. All rights reserved.</p>
    </footer>
  </body>
</html>

<script>
  let home = document.getElementById("posts");
  let parent = document.getElementById("preview-hold");
  let preview = document.getElementById("preview");
  let secPreview = document.getElementById("secPreview");
  let input = document.getElementById("input");
  let content = document.getElementById("postContent");
  let array = JSON.parse(localStorage.getItem("array")) || [];
  let profile;
  let advanced;

  function choose(params) {
    params.innerHTML = "<span class='round'></span>";
    params.disabled = true;
    setTimeout(() => {
      params.innerHTML = "Add Picture";
      params.disabled = false;
      parent.style.display = "flex";
    }, 1500);
  }

  function addPost(params) {
    params.innerHTML = "<span class='round'></span>";
    params.disabled = true;
    setTimeout(() => {
      params.innerHTML = "Post";
      listener.innerHTML = "Add Picture";
      params.disabled = false;
      if (!content.value.trim()) {
        alert("Input a text");
        return;
      }

      let now = new Date();
      let object = {
        text: content.value.trim(),
        image: advanced,
        like: 0,
        unlike: 0,
        state: "",
        time: now.toLocaleTimeString("en-us", {
          hour: "2-digit",
          minute: "2-digit",
        }),
      };

      if (!object.image) {
        alert("Select an image");
        return;
      }
      array.push(object);
      localStorage.setItem("array", JSON.stringify(array));
      content.value = "";
      display();
      table();
      advanced = "";
      secPreview.style.display = "none";
    }, 3000);
  }

  display();
  table();

  function display() {
    home.innerHTML = "";
    for (let index = 0; index < array.length; index++) {
      home.innerHTML += `<div class="post">
        <img id="image" src="${array[index].image}" alt="">
        <div>
            <h3>Post ${index + 1}</h3>
        <p class="display">${array[index].text}</p>
        </div>
        <span class="time">${array[index].time}</span>
        <div class="flow">
            <button onclick="firstColor(this, ${index})" title="Like" class="one"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Zm0-108q96-86 158-147.5t98-107q36-45.5 50-81t14-70.5q0-60-40-100t-100-40q-47 0-87 26.5T518-680h-76q-15-41-55-67.5T300-774q-60 0-100 40t-40 100q0 35 14 70.5t50 81q36 45.5 98 107T480-228Zm0-273Z"/></svg></button>
            <button onclick="secondColor(this, ${index})" title="Unlike" class="two"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M481-83Q347-218 267.5-301t-121-138q-41.5-55-54-94T80-620q0-92 64-156t156-64q45 0 87 16.5t75 47.5l-62 216h120l-34 335 114-375H480l71-212q25-14 52.5-21t56.5-7q92 0 156 64t64 156q0 48-13 88t-55 95.5q-42 55.5-121 138T481-83Zm-71-186 21-211H294l75-263q-16-8-33.5-12.5T300-760q-58 0-99 41t-41 99q0 31 11.5 62t40 70.5q28.5 39.5 77 92T410-269Zm188-48q111-113 156.5-180T800-620q0-58-41-99t-99-41q-11 0-22 1.5t-22 5.5l-24 73h116L598-317Zm110-363ZM294-480Z"/></svg></button>
            <button onclick="remove(this, ${index})" title="Delete" class="three">Delete</button>
        </div>

        </div>`;
    }
  }

  function table() {
    tbody.innerHTML = "";
    for (let index = 0; index < array.length; index++) {
      tbody.innerHTML += `<tr>
        <td>${index + 1}</td>
        <td class="design">${array[index].text}</td>
        <td class="design">${array[index].image}</td>
        <td>${array[index].like}</td>
        <td>${array[index].unlike}</td>
        </tr>`;
    }
  }

  function change(ev) {
    let display = ev.target.files[0];
    let reader = new FileReader();
    if (!display) {
      alert("Please attach a file");
      return;
    }
    reader.readAsDataURL(display);
    reader.addEventListener("load", (params) => {
      profile = params.target.result;
      preview.src = profile;
      parent.style.display = "flex";
    });
  }

  function cancel() {
    profile = "";
    parent.style.display = "none";
    preview.src =
      "https://i.pinimg.com/736x/88/10/6c/88106c7a9d035e3d664089b36c99c2d4.jpg";
  }
  function add(params) {
    params.innerHTML = "<span class='round'></span>";
    params.disabled = true;

    setTimeout(() => {
      listener.innerHTML = "Change Picture";
      params.innerHTML = "Add";
      params.disabled = false;
      advanced = profile;
      secPreview.src = advanced;

      if (
        preview.src ===
        "https://i.pinimg.com/736x/88/10/6c/88106c7a9d035e3d664089b36c99c2d4.jpg"
      ) {
        alert("Please attach a different file");
      } else {
        let conf = confirm("Are you okay with the picture?");
        if (conf) {
          secPreview.style.display = "block";
          parent.style.display = "none";
        } else {
          secPreview.style.display = "none";
          parent.style.display = "flex";
        }
      }
    }, 3000);
  }
  function firstColor(params, index) {
    let post = array[index];

    if (post.state === "liked") {
      alert("Thanks for your support.");
      return;
    }

    if (post.state === "unliked") {
      post.unlike--;
    }

    post.like++;
    post.state = "liked";

    localStorage.setItem("array", JSON.stringify(array));
    table();

    let flow = params.parentElement;
    flow.querySelector(".one").style.backgroundColor = "red";
    flow.querySelector(".two").style.backgroundColor = "transparent";
  }

  function secondColor(params, index) {
    let post = array[index];

    if (post.state === "unliked") {
      alert("You are too wicked! ðŸ˜Ž");
      return;
    }

    if (post.state === "liked") {
      post.like--;
    }

    post.unlike++;
    post.state = "unliked";
    localStorage.setItem("array", JSON.stringify(array));
    table();

    let flow = params.parentElement;
    flow.querySelector(".two").style.backgroundColor = "red";
    flow.querySelector(".one").style.backgroundColor = "transparent";
  }

  function remove(params, rep) {
    params.innerHTML = "<span class='round'></span>";
    params.disabled = true;

    setTimeout(() => {
      let conf = confirm("Are you sure you want to delete?");
      if (conf) {
        array.splice(rep, 1);
        display();
        table();
        localStorage.setItem("array", JSON.stringify(array));
        alert("Post deleted successfully");
      } else {
        alert("Post restored");
      }

      params.innerHTML = "Delete";
      params.disabled = false;
    }, 3000);
  }

  localStorage.clear();
</script>
