<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Blog</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Verdana, sans-serif;
        line-height: 1.6;
        background: #f9f9f9;
        color: #333;
      }

      header {
        background: #222;
        color: #fff;
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 2;
      }

      header .logo {
        font-size: 1.5rem;
        font-weight: bold;
      }

      header nav ul {
        list-style: none;
        display: flex;
        gap: 1.5rem;
      }

      header nav a {
        color: #fff;
        text-decoration: none;
        transition: color 0.3s;
      }

      header nav a:hover {
        color: #ff9800;
      }

      .hero {
        text-align: center;
        padding: 3rem 1rem;
        background: linear-gradient(to right, #ff9800, #f44336);
        color: #fff;
      }

      .hero h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      main {
        width: 65%;
        float: left;
        padding: 2rem;
      }

      aside {
        width: 30%;
        float: right;
        padding: 2rem;
        background: #fff;
        border-left: 1px solid #ddd;
      }

      aside h3 {
        margin-bottom: 0.5rem;
      }

      aside ul {
        list-style: none;
      }

      aside ul li {
        margin: 0.5rem 0;
      }

      .post-form {
        margin: 2rem 0;
        background: #fff;
        padding: 1rem;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .post-form textarea {
        width: 100%;
        height: 100px;
        padding: 0.5rem;
        margin-bottom: 1rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        resize: vertical;
      }

      .post-form button {
        background: #f44336;
        color: #fff;
        border: none;
        padding: 0.7rem 1.2rem;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
      }

      .post-form button:hover {
        background: #d32f2f;
      }

      .post {
        background: #fff;
        margin-bottom: 2rem;
        padding: 1rem;
        display: flex;
        gap: 15px;
        align-items: center;
        position: relative;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .post h2 {
        margin-bottom: 0.5rem;
      }

      footer {
        clear: both;
        text-align: center;
        padding: 1rem;
        background: #222;
        color: #fff;
        margin-top: 2rem;
      }

      img {
        height: 50px;
        width: 50px;
        border-radius: 50%;
        border: 2px solid rgb(0, 94, 255);
      }

      input {
        background: linear-gradient(to right, #ff9800, #f44336);
        padding: 9px 20px;
        border-radius: 20px;
        width: 130px;
      }
      .one,
      .two {
        height: 35px;
        display: flex;
        border-radius: 50%;
        transition: all 0.5s ease;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        width: 35px;
        border: none;
        background-color: transparent;
      }
      .flow {
        display: flex;
        gap: 15px;
        position: absolute;
        right: 5%;
      }
      #firstOne:hover,
      #secondOne:hover {
        background-color: lightgray;
      }

      .post-table {
        margin-top: 2rem;
        background: #fff;
        padding: 1rem;
        text-align: center;
        display: flex;
        flex-direction: column;
        gap: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .post-table table {
        width: 100%;
        border-collapse: collapse;
        border-radius: 10px;
        overflow: hidden;
      }

      .post-table th,
      .post-table td {
        border: 1px solid #ddd;
        padding: 0.7rem;
        text-align: center;
      }
      .design {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100px;
      }

      .post-table th {
        background: #f44336;
        color: #fff;
      }

      @media (max-width: 900px) {
        main {
          width: 100%;
          float: none;
          padding: 1.5rem;
        }

        aside {
          width: 100%;
          float: none;
          margin-top: 1.5rem;
          border-left: none;
        }

        header nav ul {
          gap: 1rem;
        }

        .post {
          flex-direction: column;
          align-items: flex-start;
        }

        .flow {
          position: static;
          margin-top: 10px;
        }
      }
      @media (max-width: 768px) {
        header {
          padding: 1rem 1.5rem;
        }

        .hero h1 {
          font-size: 2rem;
        }

        .hero p {
          font-size: 14px;
        }

        li {
          font-size: 14px;
        }

        .post-table table {
          font-size: 14px;
        }
      }
      @media (max-width: 500px) {
        header .logo {
          font-size: 18px;
        }

        header nav ul {
          gap: 0.7rem;
        }

        li {
          font-size: 12px;
        }

        .display {
          font-size: 12px;
        }

        .flow {
          gap: 8px;
        }

        .post {
          padding: 0.8rem;
        }

        textarea {
          height: 80px;
        }
      }
      @media (max-width: 380px) {
        .hero h1 {
          font-size: 1.6rem;
        }

        .hero p {
          font-size: 12px;
        }
        input {
          margin-left: 10px;
        }
        .post-table table {
          font-size: 11px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">MyBlog</div>
      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Categories</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero">
      <h1>Welcome to My Blog</h1>
      <p>Sharing thoughts, stories, and ideas.</p>
    </section>

    <main>
      <div class="post-form">
        <h2>Create a Post</h2>
        <textarea
          id="postContent"
          placeholder="Write your post here..."
        ></textarea>
        <button onclick="addPost()">Post</button>
        <input id="input" onchange="change(event)" type="file" />
      </div>

      <div id="posts"></div>

      <div class="post-table">
        <h2>Post Summary</h2>
        <table>
          <thead>
            <tr>
              <th>S/N</th>
              <th>Post Text</th>
              <th>Image</th>
              <th>Likes</th>
              <th>Unlikes</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>
    </main>

    <aside>
      <h3>About Me</h3>
      <p>
        Hi, I'm Adebayo. I love writing about tech, design, and life lessons.
      </p>

      <h3>Categories</h3>
      <ul>
        <li>Technology</li>
        <li>Design</li>
        <li>Lifestyle</li>
        <li>Travel</li>
      </ul>
    </aside>

    <footer>
      <p>&copy; 2025 MyBlog. All rights reserved.</p>
    </footer>
  </body>
</html>

<script>
  let home = document.getElementById("posts");
  let input = document.getElementById("input");
  let content = document.getElementById("postContent");
  let array = JSON.parse(localStorage.getItem("array")) || [];
  let profile;
  input.style.color = "#f44336";

  function addPost() {
    if (!content.value.trim()) {
      alert("Input a text");
      return;
    }

    let object = {
      text: content.value.trim(),
      image: profile,
      like: 0,
      unlike: 0,
      state: "",
    };
    if (!object.image) {
      alert("Select an image");
      return;
    }
    let date = new Date();
    console.log(date);
    array.push(object);
    localStorage.setItem("array", JSON.stringify(array));
    content.value = "";
    profile = "";
    display();
    table();
  }

  display();
  table();

  function display() {
    home.innerHTML = "";
    for (let index = 0; index < array.length; index++) {
      home.innerHTML += `<div class="post">
        <img id="image" src="${array[index].image}" alt="">
        <div>
            <h3>Post ${index + 1}</h3>
        <p class="display">${array[index].text}</p>
        </div>
        <div class="flow">
            <button onclick="firstColor(this, ${index})" title="Like" class="one"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Zm0-108q96-86 158-147.5t98-107q36-45.5 50-81t14-70.5q0-60-40-100t-100-40q-47 0-87 26.5T518-680h-76q-15-41-55-67.5T300-774q-60 0-100 40t-40 100q0 35 14 70.5t50 81q36 45.5 98 107T480-228Zm0-273Z"/></svg></button>
            <button onclick="secondColor(this, ${index})" title="Unlike" class="two"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M481-83Q347-218 267.5-301t-121-138q-41.5-55-54-94T80-620q0-92 64-156t156-64q45 0 87 16.5t75 47.5l-62 216h120l-34 335 114-375H480l71-212q25-14 52.5-21t56.5-7q92 0 156 64t64 156q0 48-13 88t-55 95.5q-42 55.5-121 138T481-83Zm-71-186 21-211H294l75-263q-16-8-33.5-12.5T300-760q-58 0-99 41t-41 99q0 31 11.5 62t40 70.5q28.5 39.5 77 92T410-269Zm188-48q111-113 156.5-180T800-620q0-58-41-99t-99-41q-11 0-22 1.5t-22 5.5l-24 73h116L598-317Zm110-363ZM294-480Z"/></svg></button>
        </div>
        </div>`;
    }
  }

  function table() {
    tbody.innerHTML = "";
    for (let index = 0; index < array.length; index++) {
      tbody.innerHTML += `<tr>
        <td>${index + 1}</td>
        <td class="design">${array[index].text}</td>
        <td class="design">${array[index].image}</td>
        <td>${array[index].like}</td>
        <td>${array[index].unlike}</td>
        </tr>`;
    }
  }

  function change(ev) {
    let display = ev.target.files[0];
    let reader = new FileReader();
    if (!display) {
      alert("Please attach a file");
      return;
    }
    reader.readAsDataURL(display);
    reader.addEventListener("load", (params) => {
      profile = params.target.result;
    });
  }

  function firstColor(params, index) {
    let post = array[index];

    if (post.state === "liked") {
      alert("Thanks for your support.");
      return;
    }

    if (post.state === "unliked") {
      post.unlike--;
    }

    post.like++;
    post.state = "liked";

    localStorage.setItem("array", JSON.stringify(array));
    table();

    let flow = params.parentElement;
    flow.querySelector(".one").style.backgroundColor = "red";
    flow.querySelector(".two").style.backgroundColor = "transparent";
  }

  function secondColor(params, index) {
    let post = array[index];

    if (post.state === "unliked") {
      alert("You are too wicked! ðŸ˜Ž");
      return;
    }

    if (post.state === "liked") {
      post.like--;
    }

    post.unlike++;
    post.state = "unliked";
    localStorage.setItem("array", JSON.stringify(array));
    table();

    let flow = params.parentElement;
    flow.querySelector(".two").style.backgroundColor = "red";
    flow.querySelector(".one").style.backgroundColor = "transparent";
  }
</script>
